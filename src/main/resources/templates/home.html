<html xmlns:th="http://www.w3.org/1999/xhtml">

<script type="text/javascript">
    window.addEventListener('load', function() {
        document.getElementById('btn').onclick = function() {
            let query = '/search?';

            let cityElmn = document.getElementById('city');
            let selectedCity = cityElmn.options[cityElmn.selectedIndex].value;

            let tagElm = document.getElementById('singleSelect');
            let selectedTag = tagElm.options[tagElm.selectedIndex].value;

            query = query + 'city=' + selectedCity + '&tag=' + selectedTag;
            console.log(query);

            location.href = query;
        };
    });

</script>

<head th:replace="/fragments/base :: head">
</head>

<body>

<div th:replace="/fragments/base :: navbar">
</div>
<br>
<div class="text-center" th:text="|You are in ${city}|"></div>

<br>

<form name="sendData">
    <div class="main-message text-center">
        <h3> I am looking for someone in
        <select id="city" name="city">
            <option value="Tokyo">Tokyo</option>
            <option value="Osaka">Osaka</option>
            <option value="Shinjuku">Shinjuku</option>
            <option value="Shibuya">Shibuya</option>
            <option value="Harajuku">Harajuku</option>
            <option value="Ikebukuro">Ikebukuro</option>
            <option value="Akihabara">Akihabara</option>
            <option value="Shinagawa">Shinagawa</option>
            <option value="Yokohama">Yokohama</option>
            <option value="Nagoya">Nagoya</option>
            <option value="Umeda">Umeda</option>
            <option value="Namba">Namba</option>
            <option value="Kobe">Kobe</option>
            <option value="Kyoto">Kyoto</option>
            <option value="Okinawa">Okinawa</option>
            <option value="Hokkaido">Hokkaido</option>
        </select>
        to help me with
        <select id="singleSelect" name="selectedItem">
            <option value="">Choose a problem...</option>
            <option th:each="tags : ${tags}" th:value="${tags.tagId}" th:text="${tags.name}"
                    th:selected="${tags.name} == *{selectedItem}">singleSelect
            </option>
        </select>
        </h3>
    </div>
</form>
<br><br>

<br>
<div class="text-center">
    <button id="btn" class="btn btn-primary" value="Click">Look for Help!</button>
</div>

<div th:replace="/fragments/base :: script-import"></div>
</body>
</html>